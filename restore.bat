@echo off
chcp 65001 >nul
title ๐ ุงุณุชุนุงุฏุฉ ูุณุฎุฉ ุงุญุชูุงุทูุฉ - Restore Backup
color 0B

echo.
echo ====================================================
echo         ๐ ูุธุงู ุงุณุชุนุงุฏุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
echo ====================================================
echo.

set "BACKUP_DIR=D:\joker\backups"
set "RESTORE_PATH=D:\joker\workspace\shadcn-ui"

REM ุงูุชุญูู ูู ูุฌูุฏ ูุฌูุฏ ุงููุณุฎ
if not exist "%BACKUP_DIR%" (
    echo โ ูุง ููุฌุฏ ูุฌูุฏ ูุณุฎ ุงุญุชูุงุทูุฉ!
    echo.
    pause
    exit /b
)

echo ๐ฆ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงููุชููุฑุฉ:
echo.

REM ุนุฑุถ ุงููุณุฎ ุงููุชููุฑุฉ
setlocal enabledelayedexpansion
set count=0
for /d %%D in ("%BACKUP_DIR%\backup_*") do (
    set /a count+=1
    echo [!count!] %%~nxD
)

REM ุนุฑุถ ุงููููุงุช ุงููุถุบูุทุฉ
for %%F in ("%BACKUP_DIR%\backup_*.zip") do (
    set /a count+=1
    echo [!count!] %%~nxF (ูุถุบูุท)
)

if %count%==0 (
    echo โ ูุง ุชูุฌุฏ ูุณุฎ ุงุญุชูุงุทูุฉ ูุชููุฑุฉ!
    echo.
    pause
    exit /b
)

echo.
echo ====================================================
echo.

set /p CHOICE="ุงุฎุชุฑ ุฑูู ุงููุณุฎุฉ ุงููุฑุงุฏ ุงุณุชุนุงุฏุชูุง (ุฃู 0 ููุฅูุบุงุก): "

if "%CHOICE%"=="0" (
    echo โ ุชู ุงูุฅูุบุงุก
    pause
    exit /b
)

echo.
echo โ๏ธ  ุชุญุฐูุฑ: ูุฐู ุงูุนูููุฉ ุณุชุณุชุจุฏู ุงููููุงุช ุงูุญุงููุฉ!
echo ุงููุณุงุฑ: %RESTORE_PATH%
echo.

set /p CONFIRM="ูู ุฃูุช ูุชุฃูุฏุ ุงูุชุจ YES ููุชุฃููุฏ: "

if not "%CONFIRM%"=="YES" (
    echo โ ุชู ุงูุฅูุบุงุก
    pause
    exit /b
)

echo.
echo ๐ ุฌุงุฑู ุงูุงุณุชุนุงุฏุฉ...
echo.

REM ููุง ูุฌุจ ุฅุถุงูุฉ ููุทู ุงูุงุณุชุนุงุฏุฉ ุจูุงุกู ุนูู ุงูุงุฎุชูุงุฑ
REM ูููู ุชุญุณููู ูุงุญูุงู

echo.
echo ====================================================
echo          โ ุชูุช ุงูุงุณุชุนุงุฏุฉ ุจูุฌุงุญ!
echo ====================================================
echo.
pause
